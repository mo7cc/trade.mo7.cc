import{a as N,j as p,y as c,U as _,b as x,k as e,w as o,u as t,e as m,f as v,F as U,o as f,l as w,x as F,c as V,g as I,_ as d,A as S,ck as D,C as $,bI as L,r as T}from"./index-e1b4e266.js";import{_ as B}from"./Avatar-7bb81999.js";import{_ as O,a as R}from"./FormItem-a002c1ab.js";import{_ as z}from"./Input-90f12dff.js";import{_ as M}from"./InputGroup-4e93787e.js";import{_ as j}from"./_plugin-vue_export-helper-c27b6911.js";import"./Tag-df9b9d21.js";import"./format-length-c9d165c6.js";import"./get-eef5e00b.js";import"./use-merged-state-0e90f292.js";const W={class:"PageWrapper"},X={className:"User__info"},q={className:"User__NickName"},G={className:"User__Email"},H=N({__name:"ChangePassword",setup(J){const g=p(()=>d(()=>import("./SendCode-12b6c232.js"),["assets/SendCode-12b6c232.js","assets/verify-fcd68c05.js","assets/index-e1b4e266.js","assets/index-48691192.css"])),P=p(()=>d(()=>import("./XIcon-d6c5d7b7.js"),["assets/XIcon-d6c5d7b7.js","assets/index-e1b4e266.js","assets/index-48691192.css","assets/XIcon-dcf3bf82.css"])),C=p(()=>d(()=>import("./PageTitle-0db350a3.js"),["assets/PageTitle-0db350a3.js","assets/index-e1b4e266.js","assets/index-48691192.css","assets/_plugin-vue_export-helper-c27b6911.js","assets/PageTitle-a68b02f4.css"])),E=S();let i=c(!1);const a=c({Email:_.value.Email,Code:"",Password:"",AgainPassword:""}),y=async()=>{if(a.value.Password.length<6){window.$message.warning("密码不能太短");return}i.value=!0;const r=await D({...$(a.value)});i.value=!1,r.Code>0&&(L(),window.$notification.success({meta:r.Data,content:r.Msg,onClose(){E.replace("/Login")}}))};return(r,s)=>{const b=B,u=z,l=R,k=M,h=T,A=O;return f(),x(U,null,[e(t(C),null,{default:o(()=>[w("Change Password")]),_:1}),m("div",W,[m("div",X,[e(b,{round:"",size:70,src:t(_).value.Avatar,"fallback-src":t(F)},null,8,["src","fallback-src"]),m("div",q,v(t(_).value.NickName),1),m("div",G,v(t(_).value.Email),1)]),e(A,{model:a.value,size:"small",class:"myForm"},{default:o(()=>[t(_).value.Email?I("",!0):(f(),V(l,{key:0,class:"myForm__item"},{default:o(()=>[e(u,{name:"Email",value:a.value.Email,"onUpdate:value":s[0]||(s[0]=n=>a.value.Email=n),inputProps:{autocomplete:"password"},placeholder:"请输入邮箱地址"},{prefix:o(()=>[e(t(P),{name:"MailOutlined"})]),_:1},8,["value"])]),_:1})),e(l,{class:"myForm__item"},{default:o(()=>[e(k,null,{default:o(()=>[e(u,{name:"Code",value:a.value.Code,"onUpdate:value":s[1]||(s[1]=n=>a.value.Code=n),inputProps:{autocomplete:"password"},placeholder:"请输入6位验证码",maxlength:6},null,8,["value"]),e(t(g),{Email:a.value.Email,Action:"修改密码"},null,8,["Email"])]),_:1})]),_:1}),e(l,{class:"myForm__item"},{default:o(()=>[e(u,{value:a.value.Password,"onUpdate:value":s[2]||(s[2]=n=>a.value.Password=n),type:"password",name:"Password","show-password-on":"click",placeholder:"请输入新密码",inputProps:{autocomplete:"password"}},null,8,["value"])]),_:1}),e(l,{class:"myForm__item"},{default:o(()=>[e(u,{value:a.value.AgainPassword,"onUpdate:value":s[3]||(s[3]=n=>a.value.AgainPassword=n),type:"password",name:"AgainPassword","show-password-on":"click",placeholder:"再次输入密码",inputProps:{autocomplete:"password"}},null,8,["value"])]),_:1}),e(l,{class:"myForm__item"},{default:o(()=>[e(h,{class:"Submit",disabled:i.value,type:"primary",onClick:y},{default:o(()=>[w(" 提交 ")]),_:1},8,["disabled"])]),_:1})]),_:1},8,["model"])])],64)}}});const le=j(H,[["__scopeId","data-v-b31f6b3a"]]);export{le as default};
